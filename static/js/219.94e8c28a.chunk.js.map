{"version":3,"file":"static/js/219.94e8c28a.chunk.js","mappings":"8RAIaA,EAAoB,SAAC,GAI3B,IAAD,IAHJC,cAAAA,OAGI,MAHY,CAAEC,KAAM,GAAIC,OAAQ,IAGhC,EAFJC,EAEI,EAFJA,SACAC,EACI,EADJA,QAEMC,EAAY,mCAAG,WAAOC,EAAQC,GAAf,iFACbJ,EAASG,GADI,OAEnBC,EAAQC,eAAc,GACtBD,EAAQE,YAHW,2CAAH,wDAYdC,EAAeC,EAAAA,SAAaC,MAAM,CACpCX,KAAMU,EAAAA,SAEHE,OACAC,QATH,yHAWI,0IAEDC,WACHb,OAAQS,EAAAA,SAELG,QAbH,8EAeI,gGAEDC,aAGL,OACE,SAAC,KAAD,CACEf,cAAeA,EACfG,SAAUE,EACVW,iBAAkBN,EAHpB,SAKG,gBAAGO,EAAH,EAAGA,aAAH,OACC,UAAC,KAAD,YACE,qCAEE,SAAC,KAAD,CAAOhB,KAAK,OAAOiB,KAAK,UACxB,SAAC,KAAD,CAAcjB,KAAK,OAAOkB,UAAU,aAEtC,mBACA,uCAEE,SAAC,KAAD,CAAOlB,KAAK,SAASiB,KAAK,UAC1B,SAAC,KAAD,CAAcjB,KAAK,SAASkB,UAAU,aAExC,mBACA,mBAAQD,KAAK,SAASE,SAAUH,EAAhC,SACGb,MAfN,GAqBN,E,mBChEYiB,EAAUC,EAAAA,GAAAA,IAAH,6MAYPC,EAAQD,EAAAA,GAAAA,IAAH,qE,oBCwDlB,EA9DyB,WACvB,IAEuBE,EAFfC,GAAcC,EAAAA,EAAAA,MAAdD,UACME,GAAaC,EAAAA,EAAAA,MAAnBC,KAEFC,GADiBN,EACQC,EADFE,EAASI,MAAK,SAAAD,GAAO,OAAIA,EAAQN,KAAOA,CAAnB,KAElDQ,QAAQC,IAAIH,GACZ,IAAMI,EAAcJ,EAAQ7B,KACtBkC,EAAgBL,EAAQ5B,OAC9B,GAAwBkC,EAAAA,EAAAA,MAAjBC,GAAP,eACMC,GAAWC,EAAAA,EAAAA,MACXC,EAAa,kBAAMF,EAAS,uCAAf,EAEbG,EAAY,SAAAxC,GAAI,OACpB0B,EAASI,MACP,SAAAW,GAAe,OACbA,EAAgBzC,KAAK0C,gBAAkB1C,GACvCyC,EAAgBlB,KAAOM,EAAQN,EAFlB,GAFG,EAOhBoB,EAAmB,mCAAG,WAAMC,GAAN,0EACpB5C,EAAO4C,EAAO5C,KAAK0C,eAErBF,EAAUxC,GAHY,uBAIxB6C,EAAAA,GAAAA,MAAY,gCAAiC,CAC3CC,SAAU,aACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,EACVC,MAAO,YAZe,mDAiBlBlB,GAAc,QAAEb,GAAIC,GAAcoB,IAjBhB,OAkBxBL,IAlBwB,kDAoBxBR,QAAQC,IAAR,MApBwB,0DAAH,sDAwBzB,OACE,SAACZ,EAAD,WACE,UAACE,EAAD,WACGO,IACC,SAAC/B,EAAD,CACEC,cAAe,CAAEC,KAAMiC,EAAahC,OAAQiC,GAC5C/B,QAAQ,eACRD,SAAUyC,KAId,mBAAQ1B,KAAK,SAASsC,QAAShB,EAA/B,uBAMP,C","sources":["components/ContactEditorForm/ContactEditorForm.jsx","components/EditContactlModal/EditMaterialModal.styled.js","components/EditContactlModal/EditContactModal.jsx"],"sourcesContent":["import { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as yup from 'yup';\nimport 'yup-phone';\n\nexport const ContactEditorForm = ({\n  initialValues = { name: '', number: '' },\n  onSubmit,\n  btnText,\n}) => {\n  const handleSubmit = async (values, actions) => {\n    await onSubmit(values);\n    actions.setSubmitting(false);\n    actions.resetForm();\n  };\n\n  const nameRegExp =\n    /^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$/;\n\n  const phoneRegExp =\n    /^\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}/;\n\n  let SignupSchema = yup.object().shape({\n    name: yup\n      .string()\n      .trim()\n      .matches(\n        nameRegExp,\n        \"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n      )\n      .required(),\n    number: yup\n      .string()\n      .matches(\n        phoneRegExp,\n        'Phone number must be digits and can contain spaces, dashes, parentheses and can start with +'\n      )\n      .required(),\n  });\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      onSubmit={handleSubmit}\n      validationSchema={SignupSchema}\n    >\n      {({ isSubmitting }) => (\n        <Form>\n          <label>\n            Name\n            <Field name=\"name\" type=\"text\" />\n            <ErrorMessage name=\"name\" component=\"span\" />\n          </label>\n          <br />\n          <label>\n            Number\n            <Field name=\"number\" type=\"text\" />\n            <ErrorMessage name=\"number\" component=\"span\" />\n          </label>\n          <br />\n          <button type=\"submit\" disabled={isSubmitting}>\n            {btnText}\n          </button>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const Modal = styled.div`\n  padding: 24px;\n  background-color: #fff;\n`;\n","import { useNavigate } from 'react-router-dom';\nimport { ContactEditorForm } from 'components/ContactEditorForm/ContactEditorForm';\nimport { Overlay, Modal } from './EditMaterialModal.styled';\nimport { useParams } from 'react-router-dom';\nimport { useGetContactsQuery } from 'redux/contactsApi';\nimport { useUpdateContactMutation } from 'redux/contactsApi';\nimport { toast } from 'react-toastify';\n\nconst EditContactModal = () => {\n  const { contactId } = useParams();\n  const { data: contacts } = useGetContactsQuery();\n  const getContactById = id => contacts.find(contact => contact.id === id);\n  const contact = getContactById(contactId);\n  console.log(contact);\n  const contactName = contact.name;\n  const contactNumber = contact.number;\n  const [updateContact] = useUpdateContactMutation();\n  const navigate = useNavigate();\n  const closeModal = () => navigate('/goit-react-hw-08-phonebook/contacts');\n\n  const checkName = name =>\n    contacts.find(\n      searchedContact =>\n        searchedContact.name.toLowerCase() === name &&\n        searchedContact.id !== contact.id\n    );\n\n  const handleUpdateContact = async fields => {\n    const name = fields.name.toLowerCase();\n\n    if (checkName(name)) {\n      toast.error('This contact is already exist', {\n        position: 'top-center',\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        theme: 'colored',\n      });\n      return;\n    }\n    try {\n      await updateContact({ id: contactId, ...fields });\n      closeModal();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <Overlay>\n      <Modal>\n        {contact && (\n          <ContactEditorForm\n            initialValues={{ name: contactName, number: contactNumber }}\n            btnText=\"Save changes\"\n            onSubmit={handleUpdateContact}\n          />\n        )}\n\n        <button type=\"button\" onClick={closeModal}>\n          Close\n        </button>\n      </Modal>\n    </Overlay>\n  );\n};\n\nexport default EditContactModal;\n"],"names":["ContactEditorForm","initialValues","name","number","onSubmit","btnText","handleSubmit","values","actions","setSubmitting","resetForm","SignupSchema","yup","shape","trim","matches","required","validationSchema","isSubmitting","type","component","disabled","Overlay","styled","Modal","id","contactId","useParams","contacts","useGetContactsQuery","data","contact","find","console","log","contactName","contactNumber","useUpdateContactMutation","updateContact","navigate","useNavigate","closeModal","checkName","searchedContact","toLowerCase","handleUpdateContact","fields","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","onClick"],"sourceRoot":""}